<template>
    <div>
        <div class="container mt-3">
            <div class="row">
                <div v-if="categories && categories.length > 0">
                    <div class="col s12 l3 m6 md-mt-3" :class="{'sm-mt-3 md-mt-3': index === 1, 'sm-mt-3': index === 1}"  v-for="(category, index) in categories.slice(0, 3)" :key="index">
                        <div class="bgGrey">
                            <a href="">
                                <div class="flex gap-2">
                                    <div>
                                        <img
                                            :src="!category.image ? seeder[index].image : category.image"
                                            class="responsive-img"
                                        />
                                    </div>
                                    <div>
                                        <div class="dealText">
                                            Catch Big
                                            <div> <strong>deals</strong> on the
                                            {{ category.name }}</div>
                                        </div>
                                        <div class="flex gap-1">
                                            <span class="shopLink">Shop now</span
                                            ><span class="chevyRight"
                                                ><i
                                                    class="fa-solid fa-chevron-right"
                                                ></i
                                            ></span>
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
                <div v-else>
                    <div class="col s12 l3 m6 md-mt-3" :class="{'sm-mt-3 md-mt-3': index === 1, 'sm-mt-3': index === 1}"  v-for="(category, index) in seeder.slice(0, 3)" :key="index">
                        <div class="bgGrey">
                            <a href="">
                                <div class="flex gap-2">
                                    <div>
                                        <img
                                            :src="!category.image ? seeder[index].image : category.image"
                                            class="responsive-img"
                                        />
                                    </div>
                                    <div>
                                        <div class="dealText">
                                            Catch Big
                                            <div> <strong>deals</strong> on the
                                            {{ category.name }}</div>
                                        </div>
                                        <div class="flex gap-1">
                                            <span class="shopLink">Shop now</span
                                            ><span class="chevyRight"
                                                ><i
                                                    class="fa-solid fa-chevron-right"
                                                ></i
                                            ></span>
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
<script>
    export default {
        data() {
            return {
                seeder: [
                    {
                        name: "Women Fashion",
                        description:
                            "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ac dictum.",
                        image: "https://websitedemos.net/brandstore-02/wp-content/uploads/sites/150/2018/12/women-fashion-free-img.jpg",
                    },
                    {
                        name: "Men Fashion",
                        description:
                            "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ac dictum.",
                        image: "https://websitedemos.net/brandstore-02/wp-content/uploads/sites/150/2018/12/men-fashion-free-img.jpg",
                    },
                    {
                        name: "Accessories",
                        description:
                            "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ac dictum.",
                        image: "https://websitedemos.net/brandstore-02/wp-content/uploads/sites/150/2018/12/footwear-free-img.jpg",
                    },
                ],
            };
        },
		props:{
			categories: Array
		},
		watch: {
			categories(newVal) {
                if (newVal) {
                    newVal.forEach((category, i) => {
                    if (i < this.seeder.length) {
                        // Update existing seeder items
                        this.seeder[i].name = category.name;
                        this.seeder[i].image = category.image || this.seeder[i].image;
                        this.seeder[i].description = category.description || this.seeder[i].description;
                    } else {
                        // Create new seeder items if there are more categories
                        this.seeder.push({
                        name: category.name,
                        image: category.image || null,
                        description: category.description || null,
                        });
                    }
                    });
                }
            },
    	},
    };
</script>
<style scoped>
    .flex {
        display: flex;
        align-items: center;
    }
    .bgGrey {
        background-color: #f5f5f5;
        padding: 0.5vh 1vh !important;
        font-family: "Open Sans", Helvetica, Arial, sans-serif;
    }
    .dealText {
        font-size: 1.12525rem;
        text-transform: uppercase;
        color: #333e48;
        font-family: "Open Sans", Helvetica, Arial, sans-serif;
    }
    .mt-3 {
        margin-top: 3vh;
    }
    .shopLink {
        color: #333e48;
        font-weight: 700;
    }
    .chevyRight {
        display: inline-block;
        background-color: #fed700;
        width: 1.5vh;
        height: 1.5vh;
        display: flex;
        justify-content: center;
        align-items: center;
        text-align: center;
        border-radius: 100%;
    }
    .chevyRight i {
        color: #fff;
    }
    .gap-2 {
        gap: 2vh
    }
    .gap-1 {
        gap: 1vh
    }
    strong {
        font-weight: 700;
    }
    @media only screen and (min-width: 1024px) {
        .container {
            width: 85%;
        }
    }
    @media only screen and (min-width: 768px) and (max-width: 1023px) {
        .container {
            width: 90%;
        }
        .md-mt-3 {
            margin-bottom: 3vh;
        }
    }
    @media only screen and (max-width: 767px) {
        .sm-mt-3 {
            margin-top: 3vh;
        }
        .chevyRight {
            width: 2vh;
            height: 2vh;
        }
        .chevyRight i {
            font-size: .8rem;
        }
    }
</style>